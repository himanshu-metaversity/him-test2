import{j as r,r as p,d as K}from"./index-C2urTnlv.js";import{H as X}from"./homeLayout-D-vgf3Tp.js";import{k as W,F as m,s as _,D as f,J as O,H as j,U as J}from"./App-l9fncWoQ.js";import{y as Y,f as Z,g as h,h as I,T as g,r as ee,q as te,e as re,D as ne,j as oe}from"./ResetPasswordDailog-B5ncI7td.js";import{d as ae,a as ie}from"./Remove-C2HOpvEI.js";import{L as se,c as le,d as ce,e as z,f as de,D as ue,G as k}from"./index-DHHzlZYT.js";import{A as pe}from"./activityLogTable-CIUvuuHh.js";const fe=W(r.jsx("path",{d:"M18 2H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H9V4h9v12zM3 15v-2h2v2H3zm0-5.5h2v2H3v-2zM10 20h2v2h-2v-2zm-7-1.5v-2h2v2H3zM5 22c-1.1 0-2-.9-2-2h2v2zm3.5 0h-2v-2h2v2zm5 0v-2h2c0 1.1-.9 2-2 2zM5 6v2H3c0-1.1.9-2 2-2z"}),"CopyAll"),me=W(r.jsx("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download"),he=Y(Z)(({theme:e})=>({outline:"none",display:"block",[e.breakpoints.up("xs")]:{width:"100%"},[e.breakpoints.up("lg")]:{width:167},"& .MuiInputBase-root":{width:"100%",borderRadius:8,overflow:"hidden",height:"50px"},"& .MuiSelect-select ":{fontSize:"0.8rem",background:h.bg3},"& input":{fontSize:"0.8rem",borderRadius:8,width:"100%",fontWeight:500,background:h.bg3},"& fieldset":{borderRadius:8,border:"none"},borderRadius:8})),ge=m.div`
  max-width: 100%;
  height: 100%;
  margin: auto;
  text-align: center;
  overflow: hidden;
`,xe=m.img`
  max-width: 100%;
  max-height: 100%;
  // aspect-ratio: 1;
  // margin: auto;
`;m.img`
  max-width: 40px;
  max-height: 40px;
`;const ye=_(I)(({theme:e})=>({boxShadow:"0 0 8px #16191C !important",color:e.palette.text.primary,fontWeight:700,marginRight:5,marginBottom:5,"&:hover":{backgroundColor:"transparent !important",opacity:.8}})),be=m.img`
  width: 50%;

  aspect-ratio: 1/1;
`,je=_(f)(({theme:e})=>({display:"flex","& .selected":{borderColor:e.palette.primary.main},width:"100%",maxWidth:"100%",flexWrap:"wrap",padding:"0.5em",justifyContent:"space-evenly",gap:"0.5em",background:h.bg2,borderRadius:"12px",margin:"auto"})),ve=m.div`
  aspect-ratio:1;

  width: 150px;
  @media (max-width: 768px) {
    width: 120px;
  }
  @media (max-width: 580px) {
    width: 30%;
  }
  display: flex;
  cursor: pointer;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  border-radius: 12px;
  border: 1px solid gray;
  background: ${h.bg3}

`,Ce=_(f)(({theme:e})=>({border:`2px solid ${e.palette.primary.main}`,width:"100%",background:h.bg2,cursor:"pointer",height:200,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"})),N=m.div`
  width: 100%;
  border-radius: 12px;
  border: 1px solid gray;
  background: ${h.bg2};
  margin-block: 16px;

  padding: 16px;
  @media (max-width: 768px) {
    padding: 8px;
  }
`,C=m.div`
  display:flex;
  justify-content: space-between;
  align-items: center;
  @media (max-width: 580px) {

    font-size: 0.8rem;
  } 
  
  `,we=m.img`
width: 100%;
aspect-ratio: 1/1;
margin: auto;
max-width: 200px;
`,Se=m.input`
  background:transparent;
  border: none;
  outline: none;
  color: white;
  width: calc(100% - 50px);
`,_e=({selected:e,handleClick:t,details:n})=>r.jsxs(ve,{onClick:t,className:e?"selected":"",children:[r.jsx(be,{src:n.logo}),r.jsx(g,{textAlign:"center",children:n.methodName})]});function Oe({amount:e,setAmount:t}){const[n,o]=p.useState([]),a=()=>{t(s=>s-10>100?s-10:100)},i=()=>{t(s=>s+10>100?s+10:100)},c=async()=>{const{response:s}=await O.getWithdrawStack();s!=null&&s.data&&o(s.data)};p.useEffect(()=>{c()},[]);const l=s=>{Math.abs(Math.floor(Number(s.target.value)))?t(Math.abs(Math.floor(Number(s.target.value)))):s.target.value===""&&t(0)};return r.jsx(r.Fragment,{children:r.jsxs(f,{display:"flex",marginY:2,flexDirection:{xs:"column",md:"row"},alignItems:{xs:"center",md:"flex-end"},gap:1,rowGap:5,children:[r.jsxs(f,{width:{xs:"100%",md:"125px"},textAlign:"left",children:[r.jsx(g,{variant:"caption",textAlign:"left",children:"Enter Amount:"}),r.jsxs(f,{bgcolor:h.bg3,p:"0 5px",alignItems:"center",borderRadius:"8px",height:46,display:"flex",children:[r.jsx(ae,{onClick:a}),r.jsx(Se,{type:"text",placeholder:"Amount",value:e||"",onChange:l}),r.jsx(ie,{onClick:i})]})]}),r.jsx(f,{display:"flex",flexWrap:"wrap",children:n.map(({key:s,value:u})=>r.jsx(ye,{onClick:()=>t(d=>Number(d)+Number(u)),children:s},`${u}-button`))})]})})}var P={},Pe=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(a){e.addRange(a)}),t&&t.focus()}},ke=Pe,A={"text/plain":"Text","text/html":"Url",default:"Text"},De="Copy to clipboard: #{key}, Enter";function Re(e){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function Te(e,t){var n,o,a,i,c,l,s=!1;t||(t={}),n=t.debug||!1;try{a=ke(),i=document.createRange(),c=document.getSelection(),l=document.createElement("span"),l.textContent=e,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(d){if(d.stopPropagation(),t.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var y=A[t.format]||A.default;window.clipboardData.setData(y,e)}else d.clipboardData.clearData(),d.clipboardData.setData(t.format,e);t.onCopy&&(d.preventDefault(),t.onCopy(d.clipboardData))}),document.body.appendChild(l),i.selectNodeContents(l),c.addRange(i);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");s=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),s=!0}catch(y){n&&console.error("unable to copy using clipboardData: ",y),n&&console.error("falling back to prompt"),o=Re("message"in t?t.message:De),window.prompt(o,e)}}finally{c&&(typeof c.removeRange=="function"?c.removeRange(i):c.removeAllRanges()),l&&document.body.removeChild(l),a()}return s}var Ie=Te;function D(e){"@babel/helpers - typeof";return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(e)}Object.defineProperty(P,"__esModule",{value:!0});P.CopyToClipboard=void 0;var w=B(p),Ne=B(Ie),Me=["text","onCopy","options","children"];function B(e){return e&&e.__esModule?e:{default:e}}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,o)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H(Object(n),!0).forEach(function(o){M(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Ee(e,t){if(e==null)return{};var n=ze(e,t),o,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)o=i[a],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function ze(e,t){if(e==null)return{};var n={},o=Object.keys(e),a,i;for(i=0;i<o.length;i++)a=o[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function He(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}function R(e,t){return R=Object.setPrototypeOf||function(o,a){return o.__proto__=a,o},R(e,t)}function Fe(e){var t=Be();return function(){var o=S(e),a;if(t){var i=S(this).constructor;a=Reflect.construct(o,arguments,i)}else a=o.apply(this,arguments);return We(this,a)}}function We(e,t){if(t&&(D(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L(e)}function L(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},S(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=function(e){Ue(n,e);var t=Fe(n);function n(){var o;Ae(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return o=t.call.apply(t,[this].concat(i)),M(L(o),"onClick",function(l){var s=o.props,u=s.text,d=s.onCopy,y=s.children,q=s.options,v=w.default.Children.only(y),G=(0,Ne.default)(u,q);d&&d(u,G),v&&v.props&&typeof v.props.onClick=="function"&&v.props.onClick(l)}),o}return He(n,[{key:"render",value:function(){var a=this.props;a.text,a.onCopy,a.options;var i=a.children,c=Ee(a,Me),l=w.default.Children.only(i);return w.default.cloneElement(l,U(U({},c),{},{onClick:this.onClick}))}}]),n}(w.default.PureComponent);P.CopyToClipboard=$;M($,"defaultProps",{onCopy:void 0,options:void 0});var Le=P,T=Le.CopyToClipboard;T.CopyToClipboard=T;var $e=T;const b=({str:e})=>{const t=()=>j.success("Copied to your clipboard !!!");return r.jsx($e.CopyToClipboard,{text:e,onCopy:()=>t(),children:r.jsx(fe,{sx:{cursor:"pointer",fontSize:{xs:"0.9rem",md:"initial"}}})})},x=_(se)(({theme:e})=>({[e.breakpoints.down("sm")]:{padding:"5px 2px",fontSize:"0.8rem"}})),Qe=({upiDetails:e})=>e?r.jsx(N,{children:r.jsxs(le,{children:[r.jsx(ce,{children:r.jsxs(z,{children:[r.jsx(x,{children:"Mode"}),r.jsx(x,{children:"Display Name"}),r.jsx(x,{align:"right",children:"UPI Details"})]})}),r.jsx(de,{children:r.jsxs(z,{children:[r.jsx(x,{children:e.depositType}),r.jsx(x,{children:e.accountHolderName}),r.jsxs(x,{align:"right",children:[e.accountNumber,r.jsx(b,{str:e.accountNumber})]})]})})]})}):r.jsx(r.Fragment,{}),Ve=({qrDetails:e})=>e?r.jsxs(N,{children:[r.jsx(g,{textAlign:"left",children:"QR code for payment"}),r.jsx(ue,{}),r.jsxs(k,{container:!0,gap:{md:"3.33%"},children:[r.jsx(k,{item:!0,xs:12,md:5.8,children:r.jsx(we,{src:e.accountNumber})}),r.jsxs(k,{xs:12,md:5.8,py:2,textAlign:"left",children:[r.jsx(g,{m:1,variant:"caption",children:"Display Name"}),r.jsx(he,{fullWidth:!0,disabled:!0,value:e.accountHolderName,sx:{width:"100% !important"},placeholder:"Display Name"}),r.jsx(I,{sx:{my:3},color:"secondary",variant:"contained",startIcon:r.jsx(me,{}),fullWidth:!0,href:e.accountNumber,className:"download_link",download:"image.png",children:"QR Code"})]})]})]}):r.jsx(r.Fragment,{}),qe=({bankDetails:e})=>{if(!e)return r.jsx(r.Fragment,{});const{bankName:t,accountHolderName:n,accountNumber:o,ifsc:a}=e;return r.jsxs(N,{children:[r.jsxs(C,{children:["Bank Name",r.jsxs("span",{children:[t," ",r.jsx(b,{str:t})]})]}),r.jsxs(C,{children:["Account Number",r.jsxs("span",{children:[o," ",r.jsx(b,{str:o})]})]}),r.jsxs(C,{children:["IFSC Code",r.jsxs("span",{children:[a," ",r.jsx(b,{str:a})]})]}),r.jsxs(C,{children:["Account Holder Name",r.jsxs("span",{children:[n," ",r.jsx(b,{str:n})]})]})]})};function Ge(){const[e,t]=p.useState(""),[n,o]=p.useState([]),a=i=>{t(i)};return p.useEffect(()=>{(async()=>{const{response:c}=await O.getPaymentDetailNew();if(c){o(c.data);try{const l=c.data||[];l!=null&&l.length?t(l[0].depositType):j.error("Sorry no payment Methods Found")}catch{j.error("Sorry no payment Methods Found")}}})()},[]),r.jsxs(r.Fragment,{children:[r.jsx(g,{my:4,children:"Pay Manually"}),r.jsx(je,{children:n==null?void 0:n.map(i=>r.jsx(_e,{selected:e===i.depositType,details:{logo:i.image,methodName:i.depositType},handleClick:()=>a(i.depositType)}))}),e.toUpperCase()==="BANK"&&r.jsx(qe,{bankDetails:n==null?void 0:n.find(i=>i.depositType===e)}),e.toUpperCase()==="UPI"&&r.jsx(Qe,{upiDetails:n==null?void 0:n.find(i=>i.depositType==="UPI")}),e.toUpperCase()==="QR"&&r.jsx(Ve,{qrDetails:n.find(i=>i.depositType==="QR")})]})}var E={},Ke=te;Object.defineProperty(E,"__esModule",{value:!0});var Q=E.default=void 0,Xe=Ke(ee()),Je=r,Ye=(0,Xe.default)((0,Je.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");Q=E.default=Ye;const Ze=({getDepositList:e})=>{const[t,n]=p.useState(0),[o,a]=p.useState(null),[i,c]=p.useState(!1),l=async()=>{if(o!=null&&o.size&&(o==null?void 0:o.size)/(1024*1024)>6)return j.error("File should not be bigger than 6mb !!!");const s=new FormData;s.append("amount",t.toString()),s.append("image",o||""),c(!0);const{response:u}=await O.selfDeposit(s);u&&(n(0),a(null),e()),c(!1)};return r.jsxs(r.Fragment,{children:[i&&r.jsx(f,{sx:{opacity:.8,zIndex:20},height:"100%",position:"absolute",width:"100%",children:r.jsx(re,{})}),r.jsx(Oe,{amount:t,setAmount:n}),t>=1&&r.jsxs(f,{maxWidth:{md:500},m:{md:"auto"},children:[r.jsxs("h2",{style:{color:"white"},children:["Pay ",t,"/-"]}),r.jsx(Ge,{}),r.jsxs("label",{style:{width:"100%"},children:[o?r.jsx("img",{style:{maxWidth:"90%",margin:"auto",maxHeight:"200px"},src:URL.createObjectURL(o),alt:"uploaded_img"}):r.jsxs(Ce,{children:[r.jsx(Q,{htmlColor:"white"}),r.jsx(g,{children:"Click here to upload payment screenshot"})]}),r.jsx("input",{accept:"image/*",onChange:s=>{var u,d;(u=s.target.files)!=null&&u.length&&((d=s.target.files[0])!=null&&d.type.includes("image")?a(s.target.files[0]):j.error("Only image files allowed."))},type:"file",style:{display:"none"}})]}),o&&r.jsx(I,{fullWidth:!0,disabled:i,sx:{my:3},onClick:l,variant:"contained",color:"secondary",children:"Submit"})]})]})},et=[{id:"amount",label:"Amount",align:"right"},{id:"image",label:"Image",minWidth:70,align:"center"},{id:"time",label:"Date"},{id:"status",label:"Status"}],tt=({open:e,handleClose:t,src:n})=>{const o=p.useRef(null);return r.jsx(ne,{open:e,maxWidth:"lg",onClose:t,children:r.jsx(oe,{sx:{width:"100%",p:.7},children:r.jsx(ge,{ref:o,children:r.jsx(xe,{src:n,alt:"zoomed image"})})})})},rt={Rejected:"error.main",Pending:"warning.main",APPROVED:"success.main"},nt=()=>{const[e,t]=p.useState([]),{user:n}=p.useContext(J),o=K(),a=async()=>{const{response:s}=await O.getDepositList();s.data&&t(s.data)},[i,c]=p.useState(""),l=()=>{c("")};return p.useEffect(()=>(a(),()=>{t([])}),[]),p.useEffect(()=>{n.userTypeInfo===2&&o("/")},[]),!n||n.userTypeInfo===2?r.jsx(r.Fragment,{}):r.jsx(X,{children:r.jsxs(f,{marginX:"auto",rowGap:5,position:"relative",display:"flex",flexDirection:"column",width:{xs:"95%"},minHeight:"90vh",children:[r.jsx(Ze,{getDepositList:a}),r.jsx(tt,{open:!!i,src:i,handleClose:l}),r.jsx(pe,{columns:et,rows:e.map(s=>{const u={...s};return u.status=r.jsx(V,{status:s.status}),u.image=r.jsx("img",{onClick:()=>c(s.image),style:{width:50,height:50},src:s.image,alt:"deposit_image"}),u})||[]})]})})};function V({status:e}){return r.jsx(g,{sx:{fontSize:{xs:"0.8rem",lf:"0.9rem"},bgcolor:h.bg3,borderRadius:1,p:.5,width:"min-content"},color:rt[e],children:e})}const ut=Object.freeze(Object.defineProperty({__proto__:null,StatusTypography:V,default:nt},Symbol.toStringTag,{value:"Module"}));export{je as C,ye as S,he as W,_e as a,V as b,ut as i};
