import{j as t,r as p,d as J}from"./index-BQae71c0.js";import{H as X}from"./homeLayout-xnIzhnwo.js";import{k as B,F as m,s as O,D as f,J as _,H as v,U as Y}from"./App-DaO4KXw8.js";import{y as Z,f as ee,g as h,h as M,T as x,r as te,q as re,e as ne,D as oe,j as ae}from"./ResetPasswordDailog-B6lw0gJ0.js";import{d as ie,a as se}from"./Remove-CvLUAv-Y.js";import{J as le,c as ce,d as de,e as A,f as ue,D as pe,G as D}from"./index-vn8VGiBL.js";import{A as fe}from"./activityLogTable-DAvwb3o5.js";const me=B(t.jsx("path",{d:"M18 2H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H9V4h9v12zM3 15v-2h2v2H3zm0-5.5h2v2H3v-2zM10 20h2v2h-2v-2zm-7-1.5v-2h2v2H3zM5 22c-1.1 0-2-.9-2-2h2v2zm3.5 0h-2v-2h2v2zm5 0v-2h2c0 1.1-.9 2-2 2zM5 6v2H3c0-1.1.9-2 2-2z"}),"CopyAll"),he=B(t.jsx("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download"),xe=Z(ee)(({theme:e})=>({outline:"none",display:"block",[e.breakpoints.up("xs")]:{width:"100%"},[e.breakpoints.up("lg")]:{width:167},"& .MuiInputBase-root":{width:"100%",borderRadius:8,overflow:"hidden",height:"50px"},"& .MuiSelect-select ":{fontSize:"0.8rem",background:h.bg3},"& input":{fontSize:"0.8rem",borderRadius:8,width:"100%",fontWeight:500,background:h.bg3},"& fieldset":{borderRadius:8,border:"none"},borderRadius:8})),ge=m.div`
  max-width: 100%;
  height: 100%;
  margin: auto;
  text-align: center;
  overflow: hidden;
`,ye=m.img`
  max-width: 100%;
  max-height: 100%;
  // aspect-ratio: 1;
  // margin: auto;
`;m.img`
  max-width: 40px;
  max-height: 40px;
`;const be=O(M)(({theme:e})=>({boxShadow:"0 0 8px #16191C !important",color:e.palette.text.primary,fontWeight:700,marginRight:5,marginBottom:5,"&:hover":{backgroundColor:"transparent !important",opacity:.8}})),je=m.img`
  width: 50%;

  aspect-ratio: 1/1;
`,ve=O(f)(({theme:e})=>({display:"flex","& .selected":{borderColor:e.palette.primary.main},width:"100%",maxWidth:"100%",flexWrap:"wrap",padding:"0.5em",justifyContent:"space-evenly",gap:"0.5em",background:h.bg2,borderRadius:"12px",margin:"auto"})),Ce=m.div`
  aspect-ratio:1;

  width: 150px;
  @media (max-width: 768px) {
    width: 120px;
  }
  @media (max-width: 580px) {
    width: 30%;
  }
  display: flex;
  cursor: pointer;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  border-radius: 12px;
  border: 1px solid gray;
  background: ${h.bg3}

`,we=O(f)(({theme:e})=>({border:`2px solid ${e.palette.primary.main}`,width:"100%",background:h.bg2,cursor:"pointer",height:200,borderRadius:12,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"})),S=m.div`
  width: 100%;
  border-radius: 12px;
  border: 1px solid gray;
  background: ${h.bg2};
  margin-block: 16px;

  padding: 16px;
  @media (max-width: 768px) {
    padding: 8px;
  }
`,j=m.div`
  display:flex;
  justify-content: space-between;
  align-items: center;
  @media (max-width: 580px) {

    font-size: 0.8rem;
  } 
  
  `,Se=m.img`
width: 100%;
aspect-ratio: 1/1;
margin: auto;
max-width: 200px;
`,Pe=m.input`
  background:transparent;
  border: none;
  outline: none;
  color: white;
  width: calc(100% - 50px);
`,Oe=({selected:e,handleClick:r,details:n})=>t.jsxs(Ce,{onClick:r,className:e?"selected":"",children:[t.jsx(je,{src:n.logo}),t.jsx(x,{textAlign:"center",children:n.methodName})]});function _e({amount:e,setAmount:r}){const[n,o]=p.useState([]),i=()=>{r(s=>s-10>100?s-10:100)},a=()=>{r(s=>s+10>100?s+10:100)},c=async()=>{const{response:s}=await _.getWithdrawStack();s!=null&&s.data&&o(s.data)};p.useEffect(()=>{c()},[]);const l=s=>{Math.abs(Math.floor(Number(s.target.value)))?r(Math.abs(Math.floor(Number(s.target.value)))):s.target.value===""&&r(0)};return t.jsx(t.Fragment,{children:t.jsxs(f,{display:"flex",marginY:2,flexDirection:{xs:"column",md:"row"},alignItems:{xs:"center",md:"flex-end"},gap:1,rowGap:5,children:[t.jsxs(f,{width:{xs:"100%",md:"125px"},textAlign:"left",children:[t.jsx(x,{variant:"caption",textAlign:"left",children:"Enter Amount:"}),t.jsxs(f,{bgcolor:h.bg3,p:"0 5px",alignItems:"center",borderRadius:"8px",height:46,display:"flex",children:[t.jsx(ie,{onClick:i}),t.jsx(Pe,{type:"text",placeholder:"Amount",value:e||"",onChange:l}),t.jsx(se,{onClick:a})]})]}),t.jsx(f,{display:"flex",flexWrap:"wrap",children:n.map(({key:s,value:u})=>t.jsx(be,{onClick:()=>r(d=>Number(d)+Number(u)),children:s},`${u}-button`))})]})})}var k={},ke=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var r=document.activeElement,n=[],o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));switch(r.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":r.blur();break;default:r=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(i){e.addRange(i)}),r&&r.focus()}},De=ke,H={"text/plain":"Text","text/html":"Url",default:"Text"},Re="Copy to clipboard: #{key}, Enter";function Te(e){var r=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,r)}function Ie(e,r){var n,o,i,a,c,l,s=!1;r||(r={}),n=r.debug||!1;try{i=De(),a=document.createRange(),c=document.getSelection(),l=document.createElement("span"),l.textContent=e,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(d){if(d.stopPropagation(),r.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var b=H[r.format]||H.default;window.clipboardData.setData(b,e)}else d.clipboardData.clearData(),d.clipboardData.setData(r.format,e);r.onCopy&&(d.preventDefault(),r.onCopy(d.clipboardData))}),document.body.appendChild(l),a.selectNodeContents(l),c.addRange(a);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");s=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(r.format||"text",e),r.onCopy&&r.onCopy(window.clipboardData),s=!0}catch(b){n&&console.error("unable to copy using clipboardData: ",b),n&&console.error("falling back to prompt"),o=Te("message"in r?r.message:Re),window.prompt(o,e)}}finally{c&&(typeof c.removeRange=="function"?c.removeRange(a):c.removeAllRanges()),l&&document.body.removeChild(l),i()}return s}var Ee=Ie;function T(e){"@babel/helpers - typeof";return T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},T(e)}Object.defineProperty(k,"__esModule",{value:!0});k.CopyToClipboard=void 0;var w=$(p),Me=$(Ee),Ne=["text","onCopy","options","children"];function $(e){return e&&e.__esModule?e:{default:e}}function U(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function F(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?U(Object(n),!0).forEach(function(o){N(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function ze(e,r){if(e==null)return{};var n=Ae(e,r),o,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function Ae(e,r){if(e==null)return{};var n={},o=Object.keys(e),i,a;for(a=0;a<o.length;a++)i=o[a],!(r.indexOf(i)>=0)&&(n[i]=e[i]);return n}function He(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function W(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ue(e,r,n){return r&&W(e.prototype,r),n&&W(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fe(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&I(e,r)}function I(e,r){return I=Object.setPrototypeOf||function(o,i){return o.__proto__=i,o},I(e,r)}function We(e){var r=$e();return function(){var o=P(e),i;if(r){var a=P(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return Be(this,i)}}function Be(e,r){if(r&&(T(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L(e)}function L(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},P(e)}function N(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var Q=function(e){Fe(n,e);var r=We(n);function n(){var o;He(this,n);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return o=r.call.apply(r,[this].concat(a)),N(L(o),"onClick",function(l){var s=o.props,u=s.text,d=s.onCopy,b=s.children,q=s.options,C=w.default.Children.only(b),K=(0,Me.default)(u,q);d&&d(u,K),C&&C.props&&typeof C.props.onClick=="function"&&C.props.onClick(l)}),o}return Ue(n,[{key:"render",value:function(){var i=this.props;i.text,i.onCopy,i.options;var a=i.children,c=ze(i,Ne),l=w.default.Children.only(a);return w.default.cloneElement(l,F(F({},c),{},{onClick:this.onClick}))}}]),n}(w.default.PureComponent);k.CopyToClipboard=Q;N(Q,"defaultProps",{onCopy:void 0,options:void 0});var Le=k,E=Le.CopyToClipboard;E.CopyToClipboard=E;var Qe=E;const y=({str:e})=>{const r=()=>v.success("Copied to your clipboard !!!");return t.jsx(Qe.CopyToClipboard,{text:e,onCopy:()=>r(),children:t.jsx(me,{sx:{cursor:"pointer",fontSize:{xs:"0.9rem",md:"initial"}}})})},g=O(le)(({theme:e})=>({[e.breakpoints.down("sm")]:{padding:"5px 2px",fontSize:"0.8rem"}})),Ge=({upiDetails:e})=>e?t.jsx(S,{children:t.jsxs(ce,{children:[t.jsx(de,{children:t.jsxs(A,{children:[t.jsx(g,{children:"Mode"}),t.jsx(g,{children:"Display Name"}),t.jsx(g,{align:"right",children:"UPI Details"})]})}),t.jsx(ue,{children:t.jsxs(A,{children:[t.jsx(g,{children:e.depositType}),t.jsx(g,{children:e.accountHolderName}),t.jsxs(g,{align:"right",children:[e.accountNumber,t.jsx(y,{str:e.accountNumber})]})]})})]})}):t.jsx(t.Fragment,{}),Ve=({qrDetails:e})=>e?t.jsxs(S,{children:[t.jsx(x,{textAlign:"left",children:"QR code for payment"}),t.jsx(pe,{}),t.jsxs(D,{container:!0,gap:{md:"3.33%"},children:[t.jsx(D,{item:!0,xs:12,md:5.8,children:t.jsx(Se,{src:e.accountNumber})}),t.jsxs(D,{xs:12,md:5.8,py:2,textAlign:"left",children:[t.jsx(x,{m:1,variant:"caption",children:"Display Name"}),t.jsx(xe,{fullWidth:!0,disabled:!0,value:e.accountHolderName,sx:{width:"100% !important"},placeholder:"Display Name"}),t.jsx(M,{sx:{my:3},color:"secondary",variant:"contained",startIcon:t.jsx(he,{}),fullWidth:!0,href:e.accountNumber,className:"download_link",download:"image.png",children:"QR Code"})]})]})]}):t.jsx(t.Fragment,{}),R=({bankDetails:e,phonePe:r})=>{if(!e)return t.jsx(t.Fragment,{});const{bankName:n,accountHolderName:o,accountNumber:i,ifsc:a}=e;return t.jsx(t.Fragment,{children:r?t.jsx(S,{children:t.jsxs(j,{children:["Mobile No.",t.jsxs("span",{children:[o," ",t.jsx(y,{str:o})]})]})}):t.jsxs(S,{children:[t.jsxs(j,{children:["Bank Name",t.jsxs("span",{children:[n," ",t.jsx(y,{str:n})]})]}),t.jsxs(j,{children:["Account Number",t.jsxs("span",{children:[i," ",t.jsx(y,{str:i})]})]}),t.jsxs(j,{children:["IFSC Code",t.jsxs("span",{children:[a," ",t.jsx(y,{str:a})]})]}),t.jsxs(j,{children:["Account Holder Name",t.jsxs("span",{children:[o," ",t.jsx(y,{str:o})]})]})]})})};function qe(){const[e,r]=p.useState(""),[n,o]=p.useState([]),i=a=>{r(a)};return p.useEffect(()=>{(async()=>{const{response:c}=await _.getPaymentDetailNew();if(c){o(c.data);try{const l=c.data||[];l!=null&&l.length?r(l[0].depositType):v.error("Sorry no payment Methods Found")}catch{v.error("Sorry no payment Methods Found")}}})()},[]),t.jsxs(t.Fragment,{children:[t.jsx(x,{my:4,children:"Pay Manually"}),t.jsx(ve,{children:n==null?void 0:n.map(a=>t.jsx(Oe,{selected:e===a.depositType,details:{logo:a.image,methodName:a.depositType},handleClick:()=>i(a.depositType)}))}),e.toUpperCase()==="BANK"&&t.jsx(R,{bankDetails:n==null?void 0:n.find(a=>a.depositType===e),phonePe:!1}),e.toUpperCase()==="UPI"&&t.jsx(Ge,{upiDetails:n==null?void 0:n.find(a=>a.depositType==="UPI")}),e.toUpperCase()==="QR CODE"&&t.jsx(Ve,{qrDetails:n.find(a=>a.depositType==="QR CODE")}),e.toUpperCase()==="PHONE PE"&&t.jsx(R,{bankDetails:n==null?void 0:n.find(a=>a.depositType===e),phonePe:!0}),e.toUpperCase()==="G PAY"&&t.jsx(R,{bankDetails:n==null?void 0:n.find(a=>a.depositType===e),phonePe:!0})]})}var z={},Ke=re;Object.defineProperty(z,"__esModule",{value:!0});var G=z.default=void 0,Je=Ke(te()),Xe=t,Ye=(0,Je.default)((0,Xe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");G=z.default=Ye;const Ze=({getDepositList:e})=>{const[r,n]=p.useState(0),[o,i]=p.useState(null),[a,c]=p.useState(!1),l=async()=>{if(o!=null&&o.size&&(o==null?void 0:o.size)/(1024*1024)>6)return v.error("File should not be bigger than 6mb !!!");const s=new FormData;s.append("amount",r.toString()),s.append("image",o||""),c(!0);const{response:u}=await _.selfDeposit(s);u&&(n(0),i(null),e()),c(!1)};return t.jsxs(t.Fragment,{children:[a&&t.jsx(f,{sx:{opacity:.8,zIndex:20},height:"100%",position:"absolute",width:"100%",children:t.jsx(ne,{})}),t.jsx(_e,{amount:r,setAmount:n}),r>=1&&t.jsxs(f,{maxWidth:{md:500},m:{md:"auto"},children:[t.jsxs("h2",{style:{color:"white"},children:["Pay ",r,"/-"]}),t.jsx(qe,{}),t.jsxs("label",{style:{width:"100%"},children:[o?t.jsx("img",{style:{maxWidth:"90%",margin:"auto",maxHeight:"200px"},src:URL.createObjectURL(o),alt:"uploaded_img"}):t.jsxs(we,{children:[t.jsx(G,{htmlColor:"white"}),t.jsx(x,{children:"Click here to upload payment screenshot"})]}),t.jsx("input",{accept:"image/*",onChange:s=>{var u,d;(u=s.target.files)!=null&&u.length&&((d=s.target.files[0])!=null&&d.type.includes("image")?i(s.target.files[0]):v.error("Only image files allowed."))},type:"file",style:{display:"none"}})]}),o&&t.jsx(M,{fullWidth:!0,disabled:a,sx:{my:3},onClick:l,variant:"contained",color:"secondary",children:"Submit"})]})]})},et=[{id:"amount",label:"Amount",align:"right"},{id:"image",label:"Image",minWidth:70,align:"center"},{id:"time",label:"Date"},{id:"status",label:"Status"}],tt=({open:e,handleClose:r,src:n})=>{const o=p.useRef(null);return t.jsx(oe,{open:e,maxWidth:"lg",onClose:r,children:t.jsx(ae,{sx:{width:"100%",p:.7},children:t.jsx(ge,{ref:o,children:t.jsx(ye,{src:n,alt:"zoomed image"})})})})},rt={Rejected:"error.main",Pending:"warning.main",APPROVED:"success.main"},nt=()=>{const[e,r]=p.useState([]),{user:n}=p.useContext(Y),o=J(),i=async()=>{const{response:s}=await _.getDepositList();s.data&&r(s.data)},[a,c]=p.useState(""),l=()=>{c("")};return p.useEffect(()=>(i(),()=>{r([])}),[]),p.useEffect(()=>{n.userTypeInfo===2&&o("/")},[]),!n||n.userTypeInfo===2?t.jsx(t.Fragment,{}):t.jsx(X,{children:t.jsxs(f,{marginX:"auto",rowGap:5,position:"relative",display:"flex",flexDirection:"column",width:{xs:"95%"},minHeight:"90vh",children:[t.jsx(Ze,{getDepositList:i}),t.jsx(tt,{open:!!a,src:a,handleClose:l}),t.jsx(fe,{columns:et,rows:e.map(s=>{const u={...s};return u.status=t.jsx(V,{status:s.status}),u.image=t.jsx("img",{onClick:()=>c(s.image),style:{width:50,height:50},src:s.image,alt:"deposit_image"}),u})||[]})]})})};function V({status:e}){return t.jsx(x,{sx:{fontSize:{xs:"0.8rem",lf:"0.9rem"},bgcolor:h.bg3,borderRadius:1,p:.5,width:"min-content"},color:rt[e],children:e})}const ut=Object.freeze(Object.defineProperty({__proto__:null,StatusTypography:V,default:nt},Symbol.toStringTag,{value:"Module"}));export{ve as C,be as S,xe as W,Oe as a,V as b,ut as i};
